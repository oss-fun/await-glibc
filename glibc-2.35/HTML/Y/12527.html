<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>dbs</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.6.12' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/1633.html#L151'>dbs</a>               151 nscd/cache.c   	       str, serv2str[type], dbnames[table - dbs],</span>
<span class='curline'><a href='../S/1633.html#L341'>dbs</a>               341 nscd/cache.c   	     dbnames[table - dbs], (long int) now);</span>
<span class='curline'><a href='../S/1660.html#L112'>dbs</a>               112 nscd/connections.c struct database_dyn dbs[lastdb] =</span>
<span class='curline'><a href='../S/1660.html#L219'>dbs</a>               219 nscd/connections.c   [GETPWBYNAME] = { true, &amp;dbs[pwddb] },</span>
<span class='curline'><a href='../S/1660.html#L220'>dbs</a>               220 nscd/connections.c   [GETPWBYUID] = { true, &amp;dbs[pwddb] },</span>
<span class='curline'><a href='../S/1660.html#L221'>dbs</a>               221 nscd/connections.c   [GETGRBYNAME] = { true, &amp;dbs[grpdb] },</span>
<span class='curline'><a href='../S/1660.html#L222'>dbs</a>               222 nscd/connections.c   [GETGRBYGID] = { true, &amp;dbs[grpdb] },</span>
<span class='curline'><a href='../S/1660.html#L223'>dbs</a>               223 nscd/connections.c   [GETHOSTBYNAME] = { true, &amp;dbs[hstdb] },</span>
<span class='curline'><a href='../S/1660.html#L224'>dbs</a>               224 nscd/connections.c   [GETHOSTBYNAMEv6] = { true, &amp;dbs[hstdb] },</span>
<span class='curline'><a href='../S/1660.html#L225'>dbs</a>               225 nscd/connections.c   [GETHOSTBYADDR] = { true, &amp;dbs[hstdb] },</span>
<span class='curline'><a href='../S/1660.html#L226'>dbs</a>               226 nscd/connections.c   [GETHOSTBYADDRv6] = { true, &amp;dbs[hstdb] },</span>
<span class='curline'><a href='../S/1660.html#L229'>dbs</a>               229 nscd/connections.c   [GETFDPW] = { false, &amp;dbs[pwddb] },</span>
<span class='curline'><a href='../S/1660.html#L230'>dbs</a>               230 nscd/connections.c   [GETFDGR] = { false, &amp;dbs[grpdb] },</span>
<span class='curline'><a href='../S/1660.html#L231'>dbs</a>               231 nscd/connections.c   [GETFDHST] = { false, &amp;dbs[hstdb] },</span>
<span class='curline'><a href='../S/1660.html#L232'>dbs</a>               232 nscd/connections.c   [GETAI] = { true, &amp;dbs[hstdb] },</span>
<span class='curline'><a href='../S/1660.html#L233'>dbs</a>               233 nscd/connections.c   [INITGROUPS] = { true, &amp;dbs[grpdb] },</span>
<span class='curline'><a href='../S/1660.html#L234'>dbs</a>               234 nscd/connections.c   [GETSERVBYNAME] = { true, &amp;dbs[servdb] },</span>
<span class='curline'><a href='../S/1660.html#L235'>dbs</a>               235 nscd/connections.c   [GETSERVBYPORT] = { true, &amp;dbs[servdb] },</span>
<span class='curline'><a href='../S/1660.html#L236'>dbs</a>               236 nscd/connections.c   [GETFDSERV] = { false, &amp;dbs[servdb] },</span>
<span class='curline'><a href='../S/1660.html#L237'>dbs</a>               237 nscd/connections.c   [GETNETGRENT] = { true, &amp;dbs[netgrdb] },</span>
<span class='curline'><a href='../S/1660.html#L238'>dbs</a>               238 nscd/connections.c   [INNETGR] = { true, &amp;dbs[netgrdb] },</span>
<span class='curline'><a href='../S/1660.html#L239'>dbs</a>               239 nscd/connections.c   [GETFDNETGR] = { false, &amp;dbs[netgrdb] }</span>
<span class='curline'><a href='../S/1660.html#L411'>dbs</a>               411 nscd/connections.c 	      || reqinfo[here-&gt;type].db != &amp;dbs[dbnr])</span>
<span class='curline'><a href='../S/1660.html#L494'>dbs</a>               494 nscd/connections.c     if (dbs[cnt].enabled)</span>
<span class='curline'><a href='../S/1660.html#L496'>dbs</a>               496 nscd/connections.c 	pthread_rwlock_init (&amp;dbs[cnt].lock, NULL);</span>
<span class='curline'><a href='../S/1660.html#L497'>dbs</a>               497 nscd/connections.c 	pthread_mutex_init (&amp;dbs[cnt].memlock, NULL);</span>
<span class='curline'><a href='../S/1660.html#L499'>dbs</a>               499 nscd/connections.c 	if (dbs[cnt].persistent)</span>
<span class='curline'><a href='../S/1660.html#L502'>dbs</a>               502 nscd/connections.c 	    int fd = open (dbs[cnt].db_filename, O_RDWR | O_CLOEXEC);</span>
<span class='curline'><a href='../S/1660.html#L520'>dbs</a>               520 nscd/connections.c 			     dbs[cnt].db_filename, msg);</span>
<span class='curline'><a href='../S/1660.html#L521'>dbs</a>               521 nscd/connections.c 		    unlink (dbs[cnt].db_filename);</span>
<span class='curline'><a href='../S/1660.html#L551'>dbs</a>               551 nscd/connections.c 		else if ((mem = mmap (NULL, dbs[cnt].max_db_size,</span>
<span class='curline'><a href='../S/1660.html#L565'>dbs</a>               565 nscd/connections.c 		    dbs[cnt].head = mem;</span>
<span class='curline'><a href='../S/1660.html#L566'>dbs</a>               566 nscd/connections.c 		    dbs[cnt].memsize = total;</span>
<span class='curline'><a href='../S/1660.html#L567'>dbs</a>               567 nscd/connections.c 		    dbs[cnt].data = (char *)</span>
<span class='curline'><a href='../S/1660.html#L568'>dbs</a>               568 nscd/connections.c 		      &amp;dbs[cnt].head-&gt;array[roundup (dbs[cnt].head-&gt;module,</span>
<span class='curline'><a href='../S/1660.html#L570'>dbs</a>               570 nscd/connections.c 		    dbs[cnt].mmap_used = true;</span>
<span class='curline'><a href='../S/1660.html#L572'>dbs</a>               572 nscd/connections.c 		    if (dbs[cnt].suggested_module &gt; head.module)</span>
<span class='curline'><a href='../S/1660.html#L576'>dbs</a>               576 nscd/connections.c 		    dbs[cnt].wr_fd = fd;</span>
<span class='curline'><a href='../S/1660.html#L579'>dbs</a>               579 nscd/connections.c 		    if (dbs[cnt].shared)</span>
<span class='curline'><a href='../S/1660.html#L581'>dbs</a>               581 nscd/connections.c 			dbs[cnt].ro_fd = open (dbs[cnt].db_filename,</span>
<span class='curline'><a href='../S/1660.html#L583'>dbs</a>               583 nscd/connections.c 			if (dbs[cnt].ro_fd == -1)</span>
<span class='curline'><a href='../S/1660.html#L586'>dbs</a>               586 nscd/connections.c 				   dbs[cnt].db_filename);</span>
<span class='curline'><a href='../S/1660.html#L601'>dbs</a>               601 nscd/connections.c 		       dbs[cnt].db_filename);</span>
<span class='curline'><a href='../S/1660.html#L604'>dbs</a>               604 nscd/connections.c 	if (dbs[cnt].head == NULL)</span>
<span class='curline'><a href='../S/1660.html#L610'>dbs</a>               610 nscd/connections.c 			    + roundup (dbs[cnt].suggested_module</span>
<span class='curline'><a href='../S/1660.html#L612'>dbs</a>               612 nscd/connections.c 			    + (dbs[cnt].suggested_module</span>
<span class='curline'><a href='../S/1660.html#L619'>dbs</a>               619 nscd/connections.c 	    if (dbs[cnt].persistent)</span>
<span class='curline'><a href='../S/1660.html#L621'>dbs</a>               621 nscd/connections.c 		fd = open (dbs[cnt].db_filename,</span>
<span class='curline'><a href='../S/1660.html#L624'>dbs</a>               624 nscd/connections.c 		if (fd != -1 &amp;&amp; dbs[cnt].shared)</span>
<span class='curline'><a href='../S/1660.html#L625'>dbs</a>               625 nscd/connections.c 		  ro_fd = open (dbs[cnt].db_filename,</span>
<span class='curline'><a href='../S/1660.html#L637'>dbs</a>               637 nscd/connections.c 		    if (dbs[cnt].shared)</span>
<span class='curline'><a href='../S/1660.html#L649'>dbs</a>               649 nscd/connections.c 			     dbnames[cnt], dbs[cnt].db_filename);</span>
<span class='curline'><a href='../S/1660.html#L653'>dbs</a>               653 nscd/connections.c 		if  (dbs[cnt].persistent)</span>
<span class='curline'><a href='../S/1660.html#L655'>dbs</a>               655 nscd/connections.c 			   dbs[cnt].db_filename);</span>
<span class='curline'><a href='../S/1660.html#L658'>dbs</a>               658 nscd/connections.c 			   dbs[cnt].db_filename);</span>
<span class='curline'><a href='../S/1660.html#L660'>dbs</a>               660 nscd/connections.c 		dbs[cnt].persistent = 0;</span>
<span class='curline'><a href='../S/1660.html#L667'>dbs</a>               667 nscd/connections.c 		if (ro_fd == -1 &amp;&amp; dbs[cnt].shared)</span>
<span class='curline'><a href='../S/1660.html#L670'>dbs</a>               670 nscd/connections.c 			   dbs[cnt].db_filename);</span>
<span class='curline'><a href='../S/1660.html#L681'>dbs</a>               681 nscd/connections.c 		size_t remaining = dbs[cnt].suggested_module * sizeof (ref_t);</span>
<span class='curline'><a href='../S/1660.html#L711'>dbs</a>               711 nscd/connections.c 		    .module = dbs[cnt].suggested_module,</span>
<span class='curline'><a href='../S/1660.html#L712'>dbs</a>               712 nscd/connections.c 		    .data_size = (dbs[cnt].suggested_module</span>
<span class='curline'><a href='../S/1660.html#L722'>dbs</a>               722 nscd/connections.c 		    || (mem = mmap (NULL, dbs[cnt].max_db_size,</span>
<span class='curline'><a href='../S/1660.html#L727'>dbs</a>               727 nscd/connections.c 		    unlink (dbs[cnt].db_filename);</span>
<span class='curline'><a href='../S/1660.html#L729'>dbs</a>               729 nscd/connections.c 			     dbs[cnt].db_filename, strerror (errno));</span>
<span class='curline'><a href='../S/1660.html#L730'>dbs</a>               730 nscd/connections.c 		    dbs[cnt].persistent = 0;</span>
<span class='curline'><a href='../S/1660.html#L735'>dbs</a>               735 nscd/connections.c 		    dbs[cnt].head = mem;</span>
<span class='curline'><a href='../S/1660.html#L736'>dbs</a>               736 nscd/connections.c 		    dbs[cnt].data = (char *)</span>
<span class='curline'><a href='../S/1660.html#L737'>dbs</a>               737 nscd/connections.c 		      &amp;dbs[cnt].head-&gt;array[roundup (dbs[cnt].head-&gt;module,</span>
<span class='curline'><a href='../S/1660.html#L739'>dbs</a>               739 nscd/connections.c 		    dbs[cnt].memsize = total;</span>
<span class='curline'><a href='../S/1660.html#L740'>dbs</a>               740 nscd/connections.c 		    dbs[cnt].mmap_used = true;</span>
<span class='curline'><a href='../S/1660.html#L743'>dbs</a>               743 nscd/connections.c 		    dbs[cnt].wr_fd = fd;</span>
<span class='curline'><a href='../S/1660.html#L744'>dbs</a>               744 nscd/connections.c 		    dbs[cnt].ro_fd = ro_fd;</span>
<span class='curline'><a href='../S/1660.html#L756'>dbs</a>               756 nscd/connections.c 	if (dbs[cnt].head == NULL)</span>
<span class='curline'><a href='../S/1660.html#L760'>dbs</a>               760 nscd/connections.c 	    assert (! dbs[cnt].persistent);</span>
<span class='curline'><a href='../S/1660.html#L762'>dbs</a>               762 nscd/connections.c 	    dbs[cnt].head = xmalloc (sizeof (struct database_pers_head)</span>
<span class='curline'><a href='../S/1660.html#L763'>dbs</a>               763 nscd/connections.c 				     + (dbs[cnt].suggested_module</span>
<span class='curline'><a href='../S/1660.html#L765'>dbs</a>               765 nscd/connections.c 	    memset (dbs[cnt].head, '\0', sizeof (struct database_pers_head));</span>
<span class='curline'><a href='../S/1660.html#L767'>dbs</a>               767 nscd/connections.c 	    memset (dbs[cnt].head-&gt;array, '\xff',</span>
<span class='curline'><a href='../S/1660.html#L768'>dbs</a>               768 nscd/connections.c 		    dbs[cnt].suggested_module * sizeof (ref_t));</span>
<span class='curline'><a href='../S/1660.html#L769'>dbs</a>               769 nscd/connections.c 	    dbs[cnt].head-&gt;module = dbs[cnt].suggested_module;</span>
<span class='curline'><a href='../S/1660.html#L770'>dbs</a>               770 nscd/connections.c 	    dbs[cnt].head-&gt;data_size = (DEFAULT_DATASIZE_PER_BUCKET</span>
<span class='curline'><a href='../S/1660.html#L771'>dbs</a>               771 nscd/connections.c 					* dbs[cnt].head-&gt;module);</span>
<span class='curline'><a href='../S/1660.html#L772'>dbs</a>               772 nscd/connections.c 	    dbs[cnt].data = xmalloc (dbs[cnt].head-&gt;data_size);</span>
<span class='curline'><a href='../S/1660.html#L773'>dbs</a>               773 nscd/connections.c 	    dbs[cnt].head-&gt;first_free = 0;</span>
<span class='curline'><a href='../S/1660.html#L775'>dbs</a>               775 nscd/connections.c 	    dbs[cnt].shared = 0;</span>
<span class='curline'><a href='../S/1660.html#L776'>dbs</a>               776 nscd/connections.c 	    assert (dbs[cnt].ro_fd == -1);</span>
<span class='curline'><a href='../S/1660.html#L809'>dbs</a>               809 nscd/connections.c   if (dbs[hstdb].enabled)</span>
<span class='curline'><a href='../S/1660.html#L835'>dbs</a>               835 nscd/connections.c 	      dbs[hstdb].head-&gt;extra_data[NSCD_HST_IDX_CONF_TIMESTAMP]</span>
<span class='curline'><a href='../S/1660.html#L905'>dbs</a>               905 nscd/connections.c   if (! dbs[dbidx].enabled || ! dbs[dbidx].check_file)</span>
<span class='curline'><a href='../S/1660.html#L927'>dbs</a>               927 nscd/connections.c   finfo-&gt;next = dbs[dbidx].traced_files;</span>
<span class='curline'><a href='../S/1660.html#L928'>dbs</a>               928 nscd/connections.c   dbs[dbidx].traced_files = finfo;</span>
<span class='curline'><a href='../S/1660.html#L949'>dbs</a>               949 nscd/connections.c 	struct traced_file *runp = dbs[number].traced_files;</span>
<span class='curline'><a href='../S/1660.html#L978'>dbs</a>               978 nscd/connections.c   if (dbs[number].enabled)</span>
<span class='curline'><a href='../S/1660.html#L980'>dbs</a>               980 nscd/connections.c       pthread_mutex_lock (&amp;dbs[number].prune_run_lock);</span>
<span class='curline'><a href='../S/1660.html#L981'>dbs</a>               981 nscd/connections.c       prune_cache (&amp;dbs[number], LONG_MAX, fd);</span>
<span class='curline'><a href='../S/1660.html#L982'>dbs</a>               982 nscd/connections.c       pthread_mutex_unlock (&amp;dbs[number].prune_run_lock);</span>
<span class='curline'><a href='../S/1660.html#L1256'>dbs</a>              1256 nscd/connections.c 	    send_stats (fd, dbs);</span>
<span class='curline'><a href='../S/1660.html#L1413'>dbs</a>              1413 nscd/connections.c     if (dbs[cnt].enabled)</span>
<span class='curline'><a href='../S/1660.html#L1416'>dbs</a>              1416 nscd/connections.c 	dbs[cnt].head-&gt;timestamp = 0;</span>
<span class='curline'><a href='../S/1660.html#L1417'>dbs</a>              1417 nscd/connections.c 	certainly[cnt] = dbs[cnt].head-&gt;nscd_certainly_running;</span>
<span class='curline'><a href='../S/1660.html#L1418'>dbs</a>              1418 nscd/connections.c 	dbs[cnt].head-&gt;nscd_certainly_running = 0;</span>
<span class='curline'><a href='../S/1660.html#L1420'>dbs</a>              1420 nscd/connections.c 	if (dbs[cnt].persistent)</span>
<span class='curline'><a href='../S/1660.html#L1422'>dbs</a>              1422 nscd/connections.c 	  msync (dbs[cnt].head, dbs[cnt].memsize, MS_ASYNC);</span>
<span class='curline'><a href='../S/1660.html#L1460'>dbs</a>              1460 nscd/connections.c     if (dbs[cnt].enabled)</span>
<span class='curline'><a href='../S/1660.html#L1462'>dbs</a>              1462 nscd/connections.c 	dbs[cnt].head-&gt;timestamp = now;</span>
<span class='curline'><a href='../S/1660.html#L1463'>dbs</a>              1463 nscd/connections.c 	dbs[cnt].head-&gt;nscd_certainly_running = certainly[cnt];</span>
<span class='curline'><a href='../S/1660.html#L1498'>dbs</a>              1498 nscd/connections.c   assert (dbs[my_number].enabled);</span>
<span class='curline'><a href='../S/1660.html#L1500'>dbs</a>              1500 nscd/connections.c   int dont_need_update = setup_thread (&amp;dbs[my_number]);</span>
<span class='curline'><a href='../S/1660.html#L1505'>dbs</a>              1505 nscd/connections.c   dbs[my_number].head-&gt;timestamp = now;</span>
<span class='curline'><a href='../S/1660.html#L1515'>dbs</a>              1515 nscd/connections.c   dbs[my_number].wakeup_time = now + CACHE_PRUNE_INTERVAL + my_number;</span>
<span class='curline'><a href='../S/1660.html#L1517'>dbs</a>              1517 nscd/connections.c   pthread_mutex_t *prune_lock = &amp;dbs[my_number].prune_lock;</span>
<span class='curline'><a href='../S/1660.html#L1518'>dbs</a>              1518 nscd/connections.c   pthread_mutex_t *prune_run_lock = &amp;dbs[my_number].prune_run_lock;</span>
<span class='curline'><a href='../S/1660.html#L1519'>dbs</a>              1519 nscd/connections.c   pthread_cond_t *prune_cond = &amp;dbs[my_number].prune_cond;</span>
<span class='curline'><a href='../S/1660.html#L1526'>dbs</a>              1526 nscd/connections.c       if (! dbs[my_number].clear_cache)</span>
<span class='curline'><a href='../S/1660.html#L1532'>dbs</a>              1532 nscd/connections.c       if (e == ETIMEDOUT || now &gt;= dbs[my_number].wakeup_time</span>
<span class='curline'><a href='../S/1660.html#L1533'>dbs</a>              1533 nscd/connections.c 	  || dbs[my_number].clear_cache)</span>
<span class='curline'><a href='../S/1660.html#L1541'>dbs</a>              1541 nscd/connections.c 	  dbs[my_number].wakeup_time = MAX_TIMEOUT_VALUE;</span>
<span class='curline'><a href='../S/1660.html#L1544'>dbs</a>              1544 nscd/connections.c 	  time_t prune_now = dbs[my_number].clear_cache ? LONG_MAX : now;</span>
<span class='curline'><a href='../S/1660.html#L1545'>dbs</a>              1545 nscd/connections.c 	  dbs[my_number].clear_cache = 0;</span>
<span class='curline'><a href='../S/1660.html#L1553'>dbs</a>              1553 nscd/connections.c 	  next_wait = prune_cache (&amp;dbs[my_number], prune_now, -1);</span>
<span class='curline'><a href='../S/1660.html#L1564'>dbs</a>              1564 nscd/connections.c 	      dbs[my_number].head-&gt;timestamp = now;</span>
<span class='curline'><a href='../S/1660.html#L1570'>dbs</a>              1570 nscd/connections.c 	  if (now + next_wait &lt; dbs[my_number].wakeup_time)</span>
<span class='curline'><a href='../S/1660.html#L1571'>dbs</a>              1571 nscd/connections.c 	    dbs[my_number].wakeup_time = now + next_wait;</span>
<span class='curline'><a href='../S/1660.html#L1573'>dbs</a>              1573 nscd/connections.c 	    next_wait = dbs[my_number].wakeup_time - now;</span>
<span class='curline'><a href='../S/1660.html#L1578'>dbs</a>              1578 nscd/connections.c 	next_wait = dbs[my_number].wakeup_time - now;</span>
<span class='curline'><a href='../S/1660.html#L1821'>dbs</a>              1821 nscd/connections.c       struct traced_file *finfo = dbs[dbcnt].traced_files;</span>
<span class='curline'><a href='../S/1660.html#L1957'>dbs</a>              1957 nscd/connections.c 	pthread_mutex_lock (&amp;dbs[dbcnt].prune_lock);</span>
<span class='curline'><a href='../S/1660.html#L1958'>dbs</a>              1958 nscd/connections.c 	dbs[dbcnt].clear_cache = 1;</span>
<span class='curline'><a href='../S/1660.html#L1959'>dbs</a>              1959 nscd/connections.c 	pthread_mutex_unlock (&amp;dbs[dbcnt].prune_lock);</span>
<span class='curline'><a href='../S/1660.html#L1960'>dbs</a>              1960 nscd/connections.c 	pthread_cond_signal (&amp;dbs[dbcnt].prune_cond);</span>
<span class='curline'><a href='../S/1660.html#L2129'>dbs</a>              2129 nscd/connections.c 	      dbs[hstdb].head-&gt;extra_data[NSCD_HST_IDX_CONF_TIMESTAMP]</span>
<span class='curline'><a href='../S/1660.html#L2383'>dbs</a>              2383 nscd/connections.c       if (pthread_cond_init (&amp;dbs[i].prune_cond, &amp;condattr) != 0)</span>
<span class='curline'><a href='../S/1660.html#L2390'>dbs</a>              2390 nscd/connections.c       if (dbs[i].enabled</span>
<span class='curline'><a href='../S/1622.html#L427'>dbs</a>               427 nscd/mem.c     		 dbnames[db - dbs]);</span>
<span class='curline'><a href='../S/1622.html#L567'>dbs</a>               567 nscd/mem.c     	  dbg_log (_("no more memory for database '%s'"), dbnames[db - dbs]);</span>
<span class='curline'><a href='../S/1630.html#L169'>dbs</a>               169 nscd/nscd.c      if (nscd_parse_file (conffile, dbs) != 0)</span>
<span class='curline'><a href='../S/1630.html#L572'>dbs</a>               572 nscd/nscd.c          if (!dbs[cnt].enabled || dbs[cnt].head == NULL)</span>
<span class='curline'><a href='../S/1630.html#L576'>dbs</a>               576 nscd/nscd.c          dbs[cnt].head-&gt;timestamp = 0;</span>
<span class='curline'><a href='../S/1630.html#L578'>dbs</a>               578 nscd/nscd.c          if (dbs[cnt].persistent)</span>
<span class='curline'><a href='../S/1630.html#L580'>dbs</a>               580 nscd/nscd.c    	msync (dbs[cnt].head, dbs[cnt].memsize, MS_ASYNC);</span>
<span class='curline'><a href='../S/1637.html#L193'>dbs</a>               193 nscd/nscd.h    extern struct database_dyn dbs[lastdb] attribute_hidden;</span>
<span class='curline'><a href='../S/1637.html#L270'>dbs</a>               270 nscd/nscd.h    			    struct database_dyn dbs[lastdb]);</span>
<span class='curline'><a href='../S/1637.html#L273'>dbs</a>               273 nscd/nscd.h    extern void send_stats (int fd, struct database_dyn dbs[lastdb]);</span>
<span class='curline'><a href='../S/1620.html#L58'>dbs</a>                58 nscd/nscd_conf.c nscd_parse_file (const char *fname, struct database_dyn dbs[lastdb])</span>
<span class='curline'><a href='../S/1620.html#L127'>dbs</a>               127 nscd/nscd_conf.c 	    dbs[idx].postimeout = atol (arg2);</span>
<span class='curline'><a href='../S/1620.html#L133'>dbs</a>               133 nscd/nscd_conf.c 	    dbs[idx].negtimeout = atol (arg2);</span>
<span class='curline'><a href='../S/1620.html#L139'>dbs</a>               139 nscd/nscd_conf.c 	    dbs[idx].suggested_module</span>
<span class='curline'><a href='../S/1620.html#L148'>dbs</a>               148 nscd/nscd_conf.c 		dbs[idx].enabled = 0;</span>
<span class='curline'><a href='../S/1620.html#L150'>dbs</a>               150 nscd/nscd_conf.c 		dbs[idx].enabled = 1;</span>
<span class='curline'><a href='../S/1620.html#L159'>dbs</a>               159 nscd/nscd_conf.c 		dbs[idx].check_file = 0;</span>
<span class='curline'><a href='../S/1620.html#L161'>dbs</a>               161 nscd/nscd_conf.c 		dbs[idx].check_file = 1;</span>
<span class='curline'><a href='../S/1620.html#L168'>dbs</a>               168 nscd/nscd_conf.c 	    dbs[idx].max_db_size = atol (arg2) ?: DEFAULT_MAX_DB_SIZE;</span>
<span class='curline'><a href='../S/1620.html#L217'>dbs</a>               217 nscd/nscd_conf.c 		dbs[idx].persistent = 0;</span>
<span class='curline'><a href='../S/1620.html#L219'>dbs</a>               219 nscd/nscd_conf.c 		dbs[idx].persistent = 1;</span>
<span class='curline'><a href='../S/1620.html#L228'>dbs</a>               228 nscd/nscd_conf.c 		dbs[idx].shared = 0;</span>
<span class='curline'><a href='../S/1620.html#L230'>dbs</a>               230 nscd/nscd_conf.c 		dbs[idx].shared = 1;</span>
<span class='curline'><a href='../S/1620.html#L266'>dbs</a>               266 nscd/nscd_conf.c 		dbs[idx].propagate = 0;</span>
<span class='curline'><a href='../S/1620.html#L268'>dbs</a>               268 nscd/nscd_conf.c 		dbs[idx].propagate = 1;</span>
<span class='curline'><a href='../S/1620.html#L299'>dbs</a>               299 nscd/nscd_conf.c 			 + roundup (dbs[cnt].suggested_module</span>
<span class='curline'><a href='../S/1620.html#L301'>dbs</a>               301 nscd/nscd_conf.c 			 + (dbs[cnt].suggested_module</span>
<span class='curline'><a href='../S/1620.html#L303'>dbs</a>               303 nscd/nscd_conf.c       if (datasize &gt; dbs[cnt].max_db_size)</span>
<span class='curline'><a href='../S/1620.html#L307'>dbs</a>               307 nscd/nscd_conf.c 	  dbs[cnt].max_db_size = datasize;</span>
<span class='curline'><a href='../S/1649.html#L98'>dbs</a>                98 nscd/nscd_stat.c   struct dbstat dbs[lastdb];</span>
<span class='curline'><a href='../S/1649.html#L106'>dbs</a>               106 nscd/nscd_stat.c send_stats (int fd, struct database_dyn dbs[lastdb])</span>
<span class='curline'><a href='../S/1649.html#L126'>dbs</a>               126 nscd/nscd_stat.c       memset (&amp;data.dbs[cnt], 0, sizeof (data.dbs[cnt]));</span>
<span class='curline'><a href='../S/1649.html#L127'>dbs</a>               127 nscd/nscd_stat.c       data.dbs[cnt].enabled = dbs[cnt].enabled;</span>
<span class='curline'><a href='../S/1649.html#L128'>dbs</a>               128 nscd/nscd_stat.c       data.dbs[cnt].check_file = dbs[cnt].check_file;</span>
<span class='curline'><a href='../S/1649.html#L129'>dbs</a>               129 nscd/nscd_stat.c       data.dbs[cnt].shared = dbs[cnt].shared;</span>
<span class='curline'><a href='../S/1649.html#L130'>dbs</a>               130 nscd/nscd_stat.c       data.dbs[cnt].persistent = dbs[cnt].persistent;</span>
<span class='curline'><a href='../S/1649.html#L131'>dbs</a>               131 nscd/nscd_stat.c       data.dbs[cnt].postimeout = dbs[cnt].postimeout;</span>
<span class='curline'><a href='../S/1649.html#L132'>dbs</a>               132 nscd/nscd_stat.c       data.dbs[cnt].negtimeout = dbs[cnt].negtimeout;</span>
<span class='curline'><a href='../S/1649.html#L133'>dbs</a>               133 nscd/nscd_stat.c       if (dbs[cnt].head != NULL)</span>
<span class='curline'><a href='../S/1649.html#L135'>dbs</a>               135 nscd/nscd_stat.c 	  data.dbs[cnt].module = dbs[cnt].head-&gt;module;</span>
<span class='curline'><a href='../S/1649.html#L136'>dbs</a>               136 nscd/nscd_stat.c 	  data.dbs[cnt].poshit = dbs[cnt].head-&gt;poshit;</span>
<span class='curline'><a href='../S/1649.html#L137'>dbs</a>               137 nscd/nscd_stat.c 	  data.dbs[cnt].neghit = dbs[cnt].head-&gt;neghit;</span>
<span class='curline'><a href='../S/1649.html#L138'>dbs</a>               138 nscd/nscd_stat.c 	  data.dbs[cnt].posmiss = dbs[cnt].head-&gt;posmiss;</span>
<span class='curline'><a href='../S/1649.html#L139'>dbs</a>               139 nscd/nscd_stat.c 	  data.dbs[cnt].negmiss = dbs[cnt].head-&gt;negmiss;</span>
<span class='curline'><a href='../S/1649.html#L140'>dbs</a>               140 nscd/nscd_stat.c 	  data.dbs[cnt].nentries = dbs[cnt].head-&gt;nentries;</span>
<span class='curline'><a href='../S/1649.html#L141'>dbs</a>               141 nscd/nscd_stat.c 	  data.dbs[cnt].maxnentries = dbs[cnt].head-&gt;maxnentries;</span>
<span class='curline'><a href='../S/1649.html#L142'>dbs</a>               142 nscd/nscd_stat.c 	  data.dbs[cnt].datasize = dbs[cnt].head-&gt;data_size;</span>
<span class='curline'><a href='../S/1649.html#L143'>dbs</a>               143 nscd/nscd_stat.c 	  data.dbs[cnt].dataused = dbs[cnt].head-&gt;first_free;</span>
<span class='curline'><a href='../S/1649.html#L144'>dbs</a>               144 nscd/nscd_stat.c 	  data.dbs[cnt].maxnsearched = dbs[cnt].head-&gt;maxnsearched;</span>
<span class='curline'><a href='../S/1649.html#L145'>dbs</a>               145 nscd/nscd_stat.c 	  data.dbs[cnt].rdlockdelayed = dbs[cnt].head-&gt;rdlockdelayed;</span>
<span class='curline'><a href='../S/1649.html#L146'>dbs</a>               146 nscd/nscd_stat.c 	  data.dbs[cnt].wrlockdelayed = dbs[cnt].head-&gt;wrlockdelayed;</span>
<span class='curline'><a href='../S/1649.html#L147'>dbs</a>               147 nscd/nscd_stat.c 	  data.dbs[cnt].addfailed = dbs[cnt].head-&gt;addfailed;</span>
<span class='curline'><a href='../S/1649.html#L268'>dbs</a>               268 nscd/nscd_stat.c       unsigned long int hit = data.dbs[i].poshit + data.dbs[i].neghit;</span>
<span class='curline'><a href='../S/1649.html#L269'>dbs</a>               269 nscd/nscd_stat.c       unsigned long int all = hit + data.dbs[i].posmiss + data.dbs[i].negmiss;</span>
<span class='curline'><a href='../S/1649.html#L270'>dbs</a>               270 nscd/nscd_stat.c       const char *enabled = data.dbs[i].enabled ? yesstr : nostr;</span>
<span class='curline'><a href='../S/1649.html#L271'>dbs</a>               271 nscd/nscd_stat.c       const char *check_file = data.dbs[i].check_file ? yesstr : nostr;</span>
<span class='curline'><a href='../S/1649.html#L272'>dbs</a>               272 nscd/nscd_stat.c       const char *shared = data.dbs[i].shared ? yesstr : nostr;</span>
<span class='curline'><a href='../S/1649.html#L273'>dbs</a>               273 nscd/nscd_stat.c       const char *persistent = data.dbs[i].persistent ? yesstr : nostr;</span>
<span class='curline'><a href='../S/1649.html#L279'>dbs</a>               279 nscd/nscd_stat.c 	enabled = data.dbs[i].enabled ? yesstr : nostr;</span>
<span class='curline'><a href='../S/1649.html#L281'>dbs</a>               281 nscd/nscd_stat.c 	check_file = data.dbs[i].check_file ? yesstr : nostr;</span>
<span class='curline'><a href='../S/1649.html#L283'>dbs</a>               283 nscd/nscd_stat.c 	shared = data.dbs[i].shared ? yesstr : nostr;</span>
<span class='curline'><a href='../S/1649.html#L285'>dbs</a>               285 nscd/nscd_stat.c 	persistent = data.dbs[i].persistent ? yesstr : nostr;</span>
<span class='curline'><a href='../S/1649.html#L313'>dbs</a>               313 nscd/nscd_stat.c 	      data.dbs[i].module,</span>
<span class='curline'><a href='../S/1649.html#L314'>dbs</a>               314 nscd/nscd_stat.c 	      data.dbs[i].datasize, data.dbs[i].dataused,</span>
<span class='curline'><a href='../S/1649.html#L315'>dbs</a>               315 nscd/nscd_stat.c 	      data.dbs[i].postimeout, data.dbs[i].negtimeout,</span>
<span class='curline'><a href='../S/1649.html#L316'>dbs</a>               316 nscd/nscd_stat.c 	      data.dbs[i].poshit, data.dbs[i].neghit,</span>
<span class='curline'><a href='../S/1649.html#L317'>dbs</a>               317 nscd/nscd_stat.c 	      data.dbs[i].posmiss, data.dbs[i].negmiss,</span>
<span class='curline'><a href='../S/1649.html#L319'>dbs</a>               319 nscd/nscd_stat.c 	      data.dbs[i].nentries, data.dbs[i].maxnentries,</span>
<span class='curline'><a href='../S/1649.html#L320'>dbs</a>               320 nscd/nscd_stat.c 	      data.dbs[i].maxnsearched,</span>
<span class='curline'><a href='../S/1649.html#L321'>dbs</a>               321 nscd/nscd_stat.c 	      data.dbs[i].rdlockdelayed,</span>
<span class='curline'><a href='../S/1649.html#L322'>dbs</a>               322 nscd/nscd_stat.c 	      data.dbs[i].wrlockdelayed,</span>
<span class='curline'><a href='../S/1649.html#L323'>dbs</a>               323 nscd/nscd_stat.c 	      data.dbs[i].addfailed, check_file, dbnames[i]);</span>
<span class='curline'><a href='../S/1732.html#L740'>dbs</a>               740 nss/makedb.c   			  + (ndatabases * sizeof (header-&gt;dbs[0])));</span>
<span class='curline'><a href='../S/1732.html#L765'>dbs</a>               765 nss/makedb.c   	header-&gt;dbs[filled_dbs].id = db-&gt;dbid;</span>
<span class='curline'><a href='../S/1732.html#L766'>dbs</a>               766 nss/makedb.c   	memset (header-&gt;dbs[filled_dbs].pad, '\0',</span>
<span class='curline'><a href='../S/1732.html#L767'>dbs</a>               767 nss/makedb.c   		sizeof (header-&gt;dbs[0].pad));</span>
<span class='curline'><a href='../S/1732.html#L768'>dbs</a>               768 nss/makedb.c   	header-&gt;dbs[filled_dbs].hashsize = db-&gt;nhashentries;</span>
<span class='curline'><a href='../S/1732.html#L772'>dbs</a>               772 nss/makedb.c   	header-&gt;dbs[filled_dbs].hashoffset = file_offset;</span>
<span class='curline'><a href='../S/1732.html#L778'>dbs</a>               778 nss/makedb.c   	header-&gt;dbs[filled_dbs].keyidxoffset = keydataoffset;</span>
<span class='curline'><a href='../S/1732.html#L783'>dbs</a>               783 nss/makedb.c   	header-&gt;dbs[filled_dbs].keystroffset = keydataoffset;</span>
<span class='curline'><a href='../S/1732.html#L837'>dbs</a>               837 nss/makedb.c   			       + header-&gt;dbs[dbidx].keyidxoffset));</span>
<span class='curline'><a href='../S/1732.html#L839'>dbs</a>               839 nss/makedb.c   	= (const char *) header + header-&gt;dbs[dbidx].keystroffset;</span>
<span class='curline'><a href='../S/1732.html#L842'>dbs</a>               842 nss/makedb.c   			      + header-&gt;dbs[dbidx].hashoffset);</span>
<span class='curline'><a href='../S/1732.html#L844'>dbs</a>               844 nss/makedb.c         for (uint32_t hidx = 0; hidx &lt; header-&gt;dbs[dbidx].hashsize; ++hidx)</span>
<span class='curline'><a href='../S/1732.html#L847'>dbs</a>               847 nss/makedb.c   		  header-&gt;dbs[dbidx].id,</span>
<span class='curline'><a href='../S/1743.html#L149'>dbs</a>               149 nss/nss_db/db-XXX.c     if (header-&gt;dbs[i].id == db_char)					      \</span>
<span class='curline'><a href='../S/1743.html#L170'>dbs</a>               170 nss/nss_db/db-XXX.c 			  + header-&gt;dbs[i].hashoffset);			      \</span>
<span class='curline'><a href='../S/1743.html#L173'>dbs</a>               173 nss/nss_db/db-XXX.c   size_t hidx = hashval % header-&gt;dbs[i].hashsize;			      \</span>
<span class='curline'><a href='../S/1743.html#L174'>dbs</a>               174 nss/nss_db/db-XXX.c   size_t hval2 = 1 + hashval % (header-&gt;dbs[i].hashsize - 2);		      \</span>
<span class='curline'><a href='../S/1743.html#L197'>dbs</a>               197 nss/nss_db/db-XXX.c       if ((hidx += hval2) &gt;= header-&gt;dbs[i].hashsize)			      \</span>
<span class='curline'><a href='../S/1743.html#L198'>dbs</a>               198 nss/nss_db/db-XXX.c 	hidx -= header-&gt;dbs[i].hashsize;				      \</span>
<span class='curline'><a href='../S/1746.html#L50'>dbs</a>                50 nss/nss_db/db-initgroups.c     if (header-&gt;dbs[i].id == ':')</span>
<span class='curline'><a href='../S/1746.html#L60'>dbs</a>                60 nss/nss_db/db-initgroups.c 			  + header-&gt;dbs[i].hashoffset);</span>
<span class='curline'><a href='../S/1746.html#L64'>dbs</a>                64 nss/nss_db/db-initgroups.c   size_t hidx = hashval % header-&gt;dbs[i].hashsize;</span>
<span class='curline'><a href='../S/1746.html#L65'>dbs</a>                65 nss/nss_db/db-initgroups.c   size_t hval2 = 1 + hashval % (header-&gt;dbs[i].hashsize - 2);</span>
<span class='curline'><a href='../S/1746.html#L132'>dbs</a>               132 nss/nss_db/db-initgroups.c       if ((hidx += hval2) &gt;= header-&gt;dbs[i].hashsize)</span>
<span class='curline'><a href='../S/1746.html#L133'>dbs</a>               133 nss/nss_db/db-initgroups.c 	hidx -= header-&gt;dbs[i].hashsize;</span>
<span class='curline'><a href='../S/1748.html#L51'>dbs</a>                51 nss/nss_db/db-netgrp.c 			      + header-&gt;dbs[0].hashoffset);</span>
<span class='curline'><a href='../S/1748.html#L55'>dbs</a>                55 nss/nss_db/db-netgrp.c       size_t hidx = hashval % header-&gt;dbs[0].hashsize;</span>
<span class='curline'><a href='../S/1748.html#L56'>dbs</a>                56 nss/nss_db/db-netgrp.c       size_t hval2 = 1 + hashval % (header-&gt;dbs[0].hashsize - 2);</span>
<span class='curline'><a href='../S/1748.html#L83'>dbs</a>                83 nss/nss_db/db-netgrp.c 	  if ((hidx += hval2) &gt;= header-&gt;dbs[0].hashsize)</span>
<span class='curline'><a href='../S/1748.html#L84'>dbs</a>                84 nss/nss_db/db-netgrp.c 	    hidx -= header-&gt;dbs[0].hashsize;</span>
<span class='curline'><a href='../S/1747.html#L48'>dbs</a>                48 nss/nss_db/nss_db.h   } dbs[0];</span>
</pre>
</body>
</html>
